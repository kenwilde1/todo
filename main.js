(()=>{"use strict";const e=(e,t)=>{localStorage.setItem(e,JSON.stringify(t))};let t=[{title:"default",todoList:[["Breakfast","Go get breakfast","16/11/2020","1"],["Gym","get to the gym","01/01/2021","1"]]}];const o=()=>{return e=document.querySelector("#selectProject").value,JSON.parse(localStorage.getItem(e));var e};let c=o();const l=document.querySelector("#todo-container"),r=document.querySelector("#create-todo-form"),a=document.querySelector("#create-project-form"),n=document.querySelector("#edit-todo-form"),s=(document.querySelector("#create-forms"),document.querySelectorAll(".interaction-buttons").forEach((e=>e.addEventListener("click",(t=>{switch(e.id){case"create-todo-button":a.classList.contains("form-style")?r.classList.toggle("form-style"):alert("You cannot create a new todo item while you are creating a new project");break;case"create-todo":u();break;case"create-project-button":r.classList.contains("form-style")?a.classList.toggle("form-style"):alert("You cannot create a new project while you are creating a new todo item");break;case"create-project":i();break;case"edit-todo-button":console.log("hello");break;case"show-todos-button":s(),console.log("hi")}if("X"==e.innerHTML)switch(console.log(e.id),e.id){case"exit-edit-form":console.log(e.id),n.classList.toggle("form-style")}})))),(()=>{const e=document.querySelector("#selectProject");for(let t=0;t<localStorage.length;t++){const o=document.createElement("option");o.id=localStorage.key(t),o.value=localStorage.key(t),o.innerHTML=localStorage.key(t),e.appendChild(o)}})(),()=>{for(c=o(),console.log(c),l.classList.toggle("form-style");l.childElementCount>0;)l.removeChild(l.lastChild);for(let e=0;e<c.length;e++){const t=document.createElement("div");t.id=e,t.classList.add("todoItem"),l.appendChild(t);for(let o=0;o<6;o++){let l=document.createElement("p");switch(o){case 0:l.id=e+"title",l.innerHTML="Title: "+c[e][o];break;case 1:l.id=e+"desc",l.innerHTML="Description: "+c[e][o];break;case 2:l.id=e+"date",l.innerHTML="Due Date: "+c[e][o];break;case 3:1==c[e][o]&&t.classList.add("priorityOne"),l.id=e+"priority",l.innerHTML="Priority: "+c[e][o];break;case 4:l=document.createElement("button"),l.innerHTML="Edit",l.id=e,l.classList.add("todo-buttons");break;case 5:l=document.createElement("button"),l.innerHTML="Delete",l.id=e,l.classList.add("todo-buttons")}t.appendChild(l)}}d()}),i=()=>{document.querySelector("#selectProject").value;const o=document.querySelector("#project-title-value"),c=(a=o.value,t.push({title:a,todoList:[]}),document.querySelector("#create-project-form")),l=document.querySelector("#selectProject"),r=document.createElement("option");var a;r.value=o.value,r.innerHTML=o.value,l.appendChild(r),c.classList.toggle("form-style"),e(r.value,[])},u=()=>{document.querySelector("#selectProject").value,((t,c,l,r)=>{console.log(t,c,l,r);const a=document.querySelector("#selectProject").value,n=o();n.push([t,c,l,r]),e(a,n)})(document.querySelector("#todo-title-value").value,document.querySelector("#todo-description-value").value,document.querySelector("#todo-date-value").value,document.querySelector("#todo-priority-value").value),r.classList.toggle("form-style"),s()},d=()=>{document.querySelectorAll(".todo-buttons").forEach((e=>e.addEventListener("click",(t=>{"Edit"==e.innerHTML?a.classList.contains("form-style")&&r.classList.contains("form-style")?m(e.id):alert("You cannot edit a todo item while you are still editing / creating something else"):"Delete"==e.innerHTML&&y(e.id)}))))},m=t=>{const o=document.querySelector("#selectProject").value;n.classList.toggle("form-style");const l=document.querySelector("#edit-title-value"),r=document.querySelector("#edit-description-value"),a=document.querySelector("#edit-date-value"),s=document.querySelector("#edit-priority-value"),i=document.querySelector("#save-changes-button");document.querySelector("#todo-title-value").value,document.querySelector("#todo-description-value").value,document.querySelector("#todo-date-value").value,document.querySelector("#todo-priority-value").value,l.value=c[t][0],r.value=c[t][1],a.value=c[t][2],console.log(a.value),s.value=c[t][3],i.addEventListener("click",(i=>{c[t][0]=l.value,c[t][1]=r.value,c[t][2]=a.value,c[t][3]=s.value,e(o,c),(e=>{const t=document.getElementById(""+e).querySelectorAll("p");t.forEach((t=>{switch(t.id){case e+"title":t.innerHTML="Title: "+c[e][0];break;case e+"desc":t.innerHTML="Description: "+c[e][1];break;case e+"date":t.innerHTML="Due Date: "+c[e][2];break;case e+"priority":t.innerHTML="Priority: "+c[e][3]}})),console.log(t)})(t),n.classList.add("form-style")}))},y=t=>{(t=>{const c=document.querySelector("#selectProject").value,l=o();l.splice(t,1),e(c,l)})(t),s()}})();